<!DOCTYPE html SYSTEM>
<html lang="de">
<head>
	<meta charset="utf-8" content="text/html" http-equiv="Content-Type" />
  <title>ASS Anfänger Kurs – Kursmaterial</title>
  
  <link href="../css/sunburst.css" rel="stylesheet" media="screen" type="text/css" charset="utf-8" />
  
  <style type="text/css">
		body {
			margin-top: 1.0em;
			background-color: #0b084a;
			font-family: "Helvetica,Arial,FreeSans";
			color: #ffffff;
		}
		#container {
			margin: 0 auto;
			width: 800px;
		}
		h1 {
		  font-size: 50px;
		  color: #f4f7b5;
		  margin-bottom: 3px;
		}
		h1 .small {
		  font-size: 0.4em;
		}
		h1 a {
		  text-decoration: none
		}
		h2 {
		  font-size: 1.5em; color: #f4f7b5;
		}
		h3 {
		  text-align: center; color: #f4f7b5;
		}
		a {
		  color: #f4f7b5;
		}
		.description {
		  font-size: 1.2em;
		  margin-bottom: 30px;
		  margin-top: 30px;
		  font-style: italic;
		}
		.download { 
		  float: right;
		}
		pre {
		  background: #000;
		  color: #fff;
		  padding: 15px;
		}
		hr {
		  border: 0;
		  width: 80%;
		  border-bottom: 1px solid #aaa;
		}
		.footer {
		  text-align:center;
		  padding-top:30px;
		  font-style: italic;
		}
	</style>
	
</head>
<body>

  	<a href="http://github.com/galaxycats/ASS-Beginner"><img src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" style="position: absolute; top: 0; right: 0; border: 0;" /></a>

  	<div id="container">

  		<div class="download">
  			<a href="http://github.com/galaxycats/ASS-Beginner/zipball/master">
  				<img src="http://github.com/images/modules/download/zip.png" border="0" width="90" /></a>
  			<a href="http://github.com/galaxycats/ASS-Beginner/tarball/master">
  				<img src="http://github.com/images/modules/download/tar.png" border="0" width="90" /></a>
  		</div>

        <div id="content">
          <h1>Tag 2, Hands-On 5: Partials</h1>

<h2>Ziel</h2>

<p>Bestimmte Teile des HTML-Markups so extrahieren, dass sie sich leicht
wiederverwenden lassen. Diese Extraktionen werden dabei als <em>Partials</em>
bezeichnet.</p>

<h2>Aufgabe</h2>

<ol>
<li><p>Zunächst soll die Darstellung einer einzelnen Statusmitteilung innerhalb
der Liste aller Mitteilungen in ein Partial extrahiert werden. Diese
Darstellung werden wir später noch an andere Stelle verwenden müssen bzw.
können.</p></li>
<li><p>Auch das Formular für die Eingabe neuer Statusmitteilungen soll in einem
Partial realisiert werden.</p></li>
</ol>


<h2>Ressourcen</h2>

<ul>
<li><a href="http://guides.rails.info/layouts_and_rendering.html#using-partials" title="Layouts and Rendering in Rails – Using Partials">Layouts and Rendering in Rails – Using Partials</a></li>
</ul>


<h2>Shortcuts</h2>

<p>Partials werden in Rails immer durch einen Underscore als Prefix im Dateinamen
identifiziert und werden in der gleichen Verzeichnisstruktur abgelegt wie die eigentlichen
Templates zu einem Controller:</p>

<pre><code><pre class="sunburst">app/
+-views/
  +-messages/
    +-index.html.erb
    +-_message.html.erb
    +-_form.html.erb
</pre></code></pre>

<p>Anhand des folgenden Beispiels wollen wir kurz erklären, wie Partials in Templates
integriert werden können:</p>

<pre><code><pre class="sunburst"><span class="MetaTagAll"><span class="MetaTagAll">&lt;</span><span class="MetaTagAll">h1</span><span class="MetaTagAll">&gt;</span></span>Statusmitteilungen<span class="MetaTagAll"><span class="MetaTagAll">&lt;/</span><span class="MetaTagAll">h1</span><span class="MetaTagAll">&gt;</span></span>
<span class="MetaTagAll"><span class="MetaTagAll">&lt;</span><span class="MetaTagAll">div</span><span class="MetaTagAll">&gt;</span></span>
  <span class="EmbeddedSourceBright"><span class="EmbeddedSourceBright">&lt;%=</span> <span class="SupportFunction">render</span> <span class="String"><span class="String">&quot;</span>messages/form<span class="String">&quot;</span></span> <span class="EmbeddedSourceBright">%&gt;</span></span>
<span class="MetaTagAll"><span class="MetaTagAll">&lt;/</span><span class="MetaTagAll">div</span><span class="MetaTagAll">&gt;</span></span>
<span class="MetaTagAll"><span class="MetaTagAll">&lt;</span><span class="MetaTagAll">div</span> <span class="MetaTagAll"><span class="MetaTagAll">id</span><span class="MetaTagAll">=</span><span class="String"><span class="String">&quot;</span><span class="String">timeline</span><span class="String">&quot;</span></span></span><span class="MetaTagAll">&gt;</span></span>
  <span class="EmbeddedSourceBright"><span class="EmbeddedSourceBright">&lt;%=</span> <span class="SupportFunction">render</span> <span class="Variable"><span class="Variable">@</span>messages</span> <span class="EmbeddedSourceBright">%&gt;</span></span>
<span class="MetaTagAll"><span class="MetaTagAll">&lt;/</span><span class="MetaTagAll">div</span><span class="MetaTagAll">&gt;</span></span>
</pre></code></pre>

<p>Hier lässt sich schon sehr gut sehen, dass es unterschiedliche Arten gibt ein
Partial einzubinden. Die erste Variante <code>&lt;%= render "messages/form" %&gt;</code> bindet
das Partial <code>_form.html.erb</code> aus dem Verzeichnis für die Message-Templates
ein. Rails erkennt hier automatisch, dass es das Partial <code>_form.html.erb</code>
nehmen muss. Die zweite, nicht ganz offensichtliche Variante, stellt für jedes
<code>message</code>-Objekt in der Collection <code>@messages</code> das Partial <code>_message.html.erb</code>
dar. Dabei wird das jeweilige <code>message</code>-Objekt an das Partial übergeben und
ist über die Variable <code>message</code> verfügbar.</p>

        </div>

  		<div class="footer">
  			get the source code on GitHub : <a href="http://github.com/galaxycats/ASS-Beginner">galaxycats/ASS-Beginner</a>
  		</div>

  	</div>

</body>
</html>
